<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastering Basic Structures | Aprende Inglés</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script>
        // Configuración de Tailwind para usar la fuente 'Inter'
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style>
        .main-nav::-webkit-scrollbar { display: none; }
        .main-nav { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-50 font-sans text-slate-600 antialiased">

    <div id="app-wrapper" class="max-w-6xl mx-auto p-4 sm:p-6 lg:p-8">
        
        <header class="relative text-center mb-8 lg:mb-12">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-slate-900 tracking-tight">
                Mastering Basic Structures
            </h1>
            <p class="mt-3 text-lg text-slate-500 max-w-2xl mx-auto">
                Construye la base de la comunicación: cómo hacer preguntas y negaciones correctamente.
            </p>
            <button id="hamburger-btn" class="lg:hidden absolute top-0 right-0 p-2 rounded-md text-slate-600 hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
                <span class="sr-only">Abrir menú principal</span>
                <svg id="menu-open-icon" class="block h-8 w-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
                <svg id="menu-close-icon" class="hidden h-8 w-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </header>

        <div class="lg:grid lg:grid-cols-12 lg:gap-8">
            <aside class="lg:col-span-3 lg:sticky lg:top-8 self-start mb-8 lg:mb-0">
                <nav id="nav-menu" class="hidden lg:flex flex-col gap-2 pb-4 lg:pb-0 bg-white lg:bg-transparent rounded-lg p-4 lg:p-0 shadow-lg lg:shadow-none">
                    </nav>
            </aside>
            <main id="content-area" class="lg:col-span-9">
                </main>
        </div>
    </div>

    <script>
        // --- DATA ---
        const contentData = {
            "questions": {
                "title": "Preguntas Simples",
                "subtitle": "Yes/No y Preguntas 'Wh-'",
                "accentColor": "#a855f7", // Purple-500
                "explanation": "En inglés, existen dos tipos principales de preguntas. Las 'Yes/No Questions' se responden con un sí o un no, y se forman invirtiendo el verbo auxiliar. Las 'Wh- Questions' piden información específica y utilizan palabras interrogativas como 'what', 'where', 'when', etc.",
                "html": `
                    <div class="space-y-8 mt-8">
                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <h3 class="text-lg font-semibold text-slate-800 mb-4">Yes/No Questions</h3>
                                <p class="text-sm text-slate-600 mb-3">Se forman invirtiendo el sujeto y el verbo auxiliar (be, have, will, can) o añadiendo el auxiliar 'do/does/did'.</p>
                                <ul class="space-y-3">
                                    <li data-accent-color="true"><b>Con 'to be':</b> <u>She is</u> happy. → <b>Is she</b> happy?</li>
                                    <li data-accent-color="true"><b>Con 'do/does':</b> <u>They work</u> here. → <b>Do they</b> work here?</li>
                                    <li data-accent-color="true"><b>Con 'did':</b> <u>You saw</u> the movie. → <b>Did you see</b> the movie?</li>
                                    <li data-accent-color="true"><b>Con modales:</b> <u>He can</u> swim. → <b>Can he</b> swim?</li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-slate-800 mb-4">Wh- Questions (Information)</h3>
                                 <p class="text-sm text-slate-600 mb-3">Se construyen sobre las Yes/No questions, añadiendo la palabra 'Wh-' al principio.</p>
                                <ul class="space-y-3">
                                    <li data-accent-color="true"><b>What (Qué/Cuál):</b> <b>What</b> is your name?</li>
                                    <li data-accent-color="true"><b>Where (Dónde):</b> <b>Where</b> do you live?</li>
                                    <li data-accent-color="true"><b>When (Cuándo):</b> <b>When</b> is the party?</li>
                                    <li data-accent-color="true"><b>Why (Por qué):</b> <b>Why</b> are you late?</li>
                                    <li data-accent-color="true"><b>Who (Quién):</b> <b>Who</b> is that person?</li>
                                    <li data-accent-color="true"><b>How (Cómo):</b> <b>How</b> are you?</li>
                                </ul>
                            </div>
                        </div>
                        <div class="p-4 bg-purple-50 rounded-lg border border-purple-200">
                           <h4 class="font-semibold text-purple-800">Estructura General de Preguntas</h4>
                           <p class="mt-2 text-sm text-slate-700">La fórmula casi siempre es: <br> <code class="text-sm">(Palabra Wh-) + Auxiliar + Sujeto + Verbo Principal + ... ?</code></p>
                        </div>
                    </div>`
            },
            "negations": {
                "title": "Negaciones Básicas",
                "subtitle": "Cómo decir 'no'",
                "accentColor": "#ef4444", // Red-500
                "explanation": "Para formar una oración negativa en inglés, la regla general es añadir 'not' después del primer verbo auxiliar (como 'be', 'do', 'have', 'will'). Las contracciones (isn't, don't, won't) son extremadamente comunes en el habla y la escritura informal.",
                "html": `
                    <div class="space-y-8 mt-8">
                        <div>
                            <h3 class="text-lg font-semibold text-slate-800 mb-4">Estructura de la Negación</h3>
                            <div class="overflow-x-auto rounded-lg border border-slate-200">
                               <table class="w-full text-sm">
                                 <thead class="bg-slate-50">
                                    <tr>
                                        <th class="p-3 font-semibold text-left">Tipo de Verbo</th>
                                        <th class="p-3 font-semibold text-left">Estructura</th>
                                        <th class="p-3 font-semibold text-left">Ejemplo</th>
                                    </tr>
                                 </thead>
                                 <tbody class="bg-white divide-y divide-slate-200">
                                   <tr>
                                       <td class="p-3"><b>Verbo 'to be'</b></td>
                                       <td class="p-3">Sujeto + <b>be + not</b>...</td>
                                       <td class="p-3">She <b>is not</b> (isn't) a doctor.</td>
                                   </tr>
                                   <tr>
                                       <td class="p-3"><b>Presente Simple</b></td>
                                       <td class="p-3">Sujeto + <b>do/does + not</b> + verbo...</td>
                                       <td class="p-3">They <b>do not</b> (don't) live here.</td>
                                   </tr>
                                   <tr>
                                       <td class="p-3"><b>Pasado Simple</b></td>
                                       <td class="p-3">Sujeto + <b>did + not</b> + verbo...</td>
                                       <td class="p-3">I <b>did not</b> (didn't) see that.</td>
                                   </tr>
                                   <tr>
                                       <td class="p-3"><b>Verbos Modales</b></td>
                                       <td class="p-3">Sujeto + <b>modal + not</b> + verbo...</td>
                                       <td class="p-3">You <b>cannot</b> (can't) park here.</td>
                                   </tr>
                                   <tr>
                                       <td class="p-3"><b>Tiempos Perfectos</b></td>
                                       <td class="p-3">Sujeto + <b>have/has + not</b> + participio...</td>
                                       <td class="p-3">We <b>have not</b> (haven't) finished.</td>
                                   </tr>
                                 </tbody>
                               </table>
                             </div>
                        </div>
                        <div class="p-4 bg-red-50 rounded-lg border border-red-200">
                           <h4 class="font-semibold text-red-800">Regla de Oro para 'do/does/did'</h4>
                           <p class="mt-2 text-sm text-slate-700">Cuando usas <b>don't</b>, <b>doesn't</b>, o <b>didn't</b> para negar, el verbo principal que le sigue SIEMPRE vuelve a su forma base (infinitivo sin 'to').</p>
                            <p class="mt-2 text-sm">Correcto: He <b>doesn't <u>like</u></b> coffee. (No "likes")</p>
                            <p class="mt-1 text-sm">Correcto: She <b>didn't <u>go</u></b>. (No "went")</p>
                        </div>
                    </div>`
            },
            quiz: {
                title: 'Quiz Interactivo',
                subtitle: 'Pon a prueba tu conocimiento',
                accentColor: '#0ea5e9' // Sky-500
            }
        };

        const quizData = [
            { question: "___ you like ice cream?", options: ["Are", "Is", "Do", "Does"], correct: 2 },
            { question: "She ___ at home yesterday.", options: ["isn't", "wasn't", "doesn't", "didn't"], correct: 1 },
            { question: "___ did you go last night?", options: ["What", "When", "Who", "Where"], correct: 3 },
            { question: "He ___ speak French.", options: ["not", "no", "don't", "doesn't"], correct: 3 },
            { question: "___ they finished the report?", options: ["Do", "Are", "Have", "Did"], correct: 2 },
            { question: "I ___ see you at the party.", options: ["wasn't", "didn't", "don't", "am not"], correct: 1 },
            { question: "___ is your favorite color?", options: ["What", "Who", "Why", "How"], correct: 0 },
            { question: "We ___ ready for the exam.", options: ["don't", "doesn't", "aren't", "haven't"], correct: 2 },
            { question: "Why ___ she crying?", options: ["is", "does", "do", "has"], correct: 0 },
            { question: "You ___ touch that, it's hot!", options: ["cannot", "don't", "haven't", "aren't"], correct: 0 }
        ];

        // --- SCRIPT LOGIC ---
        const navMenu = document.getElementById('nav-menu');
        const contentArea = document.getElementById('content-area');
        const hamburgerBtn = document.getElementById('hamburger-btn');
        const menuOpenIcon = document.getElementById('menu-open-icon');
        const menuCloseIcon = document.getElementById('menu-close-icon');

        let state = {
            currentView: 'questions',
            quiz: { currentQuestionIndex: 0, score: 0, answered: false }
        };
        
        const icons = {
            questions: `<svg class="w-5 h-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" /></svg>`,
            negations: `<svg class="w-5 h-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z" clip-rule="evenodd" /></svg>`,
            quiz: `<svg class="w-5 h-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z" /><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" /></svg>`,
        };

        function renderNav() {
            navMenu.innerHTML = Object.keys(contentData).map(key => {
                const data = contentData[key];
                const isActive = state.currentView === key;
                const activeClasses = 'bg-indigo-600 text-white shadow-lg';
                const inactiveClasses = 'text-slate-500 hover:bg-slate-100 hover:text-slate-800';
                return `
                    <button class="btn-nav w-full flex-shrink-0 lg:w-full flex items-center text-left text-md font-semibold rounded-lg p-3 transition-all duration-200 ease-in-out ${isActive ? activeClasses : inactiveClasses}" data-section="${key}">
                        ${icons[key] || ''}
                        <span>${data.title}</span>
                    </button>
                `;
            }).join('');
        }

        function applyAccentColor(accent) {
            document.querySelectorAll('[data-accent-color="true"]').forEach(el => {
                el.style.borderLeftColor = accent;
                el.querySelectorAll('b').forEach(b => b.style.color = accent);
            });
            document.querySelectorAll('code').forEach(el => {
                el.style.backgroundColor = `#e2e8f0`; // slate-200
                el.style.padding = '2px 6px';
                el.style.borderRadius = '4px';
                el.style.fontFamily = 'monospace';
            });
        }

        function renderContent() {
            const viewKey = state.currentView;
            const data = contentData[viewKey];
            
            if (viewKey === 'quiz') {
                renderQuiz();
                return;
            }

            contentArea.innerHTML = `
                <div class="card bg-white rounded-2xl shadow-lg p-6 sm:p-8 transition-all duration-300 animate-fade-in" style="border-top: 4px solid ${data.accentColor};">
                    <h2 class="text-3xl font-bold text-slate-900">${data.title} <span class="text-slate-400 font-medium">(${data.subtitle})</span></h2>
                    <p class="mt-2 text-slate-600 leading-relaxed">${data.explanation}</p>
                    ${data.html}
                </div>
            `;
            
            contentArea.querySelectorAll('li[data-accent-color="true"]').forEach(el => el.classList.add('bg-slate-50', 'p-3', 'rounded-lg', 'border-l-4'));
            contentArea.querySelectorAll('table td, table th').forEach(el => el.classList.add('p-3'));
            applyAccentColor(data.accentColor);
        }
        
        function renderQuiz() {
            const data = contentData.quiz;
            const isFinished = state.quiz.currentQuestionIndex >= quizData.length;
            
            let quizHTML;
            if (isFinished) {
                const score = state.quiz.score;
                const total = quizData.length;
                const percentage = Math.round((score / total) * 100);
                let message = "¡Buen trabajo! Sigue practicando para perfeccionar tu dominio.";
                if (percentage >= 80) message = "🎉 ¡Excelente! Dominas las estructuras básicas de preguntas y negaciones.";
                
                quizHTML = `
                    <div class="text-center">
                        <h2 class="text-3xl font-bold text-slate-900">${data.title} - Resultados</h2>
                        <div class="bg-white rounded-2xl shadow-lg p-6 sm:p-8 mt-6">
                            <p class="text-lg text-slate-600">Tu puntuación final:</p>
                            <p class="my-4 text-7xl font-extrabold" style="color: ${data.accentColor};">${score}<span class="text-4xl text-slate-400 font-medium">/${total}</span></p>
                            <div class="w-full bg-slate-200 rounded-full h-4 my-4">
                                <div class="bg-green-500 h-4 rounded-full" style="width: ${percentage}%"></div>
                            </div>
                            <p class="text-slate-600">${message}</p>
                            <button id="restart-quiz-btn" class="mt-8 bg-indigo-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200">
                                Intentar de nuevo
                            </button>
                        </div>
                    </div>`;
            } else {
                const q = quizData[state.quiz.currentQuestionIndex];
                const progress = ((state.quiz.currentQuestionIndex) / quizData.length) * 100;
                quizHTML = `
                    <h2 class="text-2xl sm:text-3xl font-bold text-slate-900 mb-2">${data.title}</h2>
                    <p class="text-slate-500 mb-6">Pregunta ${state.quiz.currentQuestionIndex + 1} de ${quizData.length}</p>
                    <div class="w-full bg-slate-200 rounded-full h-2.5 mb-6">
                        <div id="progress-bar" class="h-2.5 rounded-full transition-all duration-300" style="width: ${progress}%; background-color: ${data.accentColor};"></div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-lg p-6 sm:p-8">
                        <p class="text-xl font-semibold text-slate-800 mb-6">${q.question}</p>
                        <div id="options-container" class="space-y-3">
                            ${q.options.map((opt, i) => `
                                <button class="btn-option w-full text-left p-4 rounded-lg border-2 border-slate-200 bg-white hover:border-indigo-400 hover:bg-indigo-50 transition-all duration-200" data-option-index="${i}">
                                    <span class="font-semibold text-slate-700">${opt.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</span>
                                </button>
                            `).join('')}
                        </div>
                        <div id="quiz-navigation" class="text-right mt-6">
                            <button id="next-question-btn" class="bg-indigo-600 text-white font-semibold py-2 px-5 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 opacity-0 -translate-y-2 pointer-events-none">
                                Siguiente
                            </button>
                        </div>
                    </div>`;
            }
            contentArea.innerHTML = `<div class="animate-fade-in">${quizHTML}</div>`;
            if (!isFinished) {
                document.getElementById('progress-bar').style.width = `${((state.quiz.currentQuestionIndex + 1) / quizData.length) * 100}%`;
            }
            addQuizEventListeners();
        }

        function handleNavClick(e) {
            const button = e.target.closest('.btn-nav');
            if (!button) return;
            
            state.currentView = button.dataset.section;
            if (state.currentView === 'quiz') {
                state.quiz = { currentQuestionIndex: 0, score: 0, answered: false };
            }

            renderNav();
            renderContent();
            
            if (window.innerWidth < 1024) { 
                toggleMobileMenu();
            }
        }
        
        function toggleMobileMenu() {
            navMenu.classList.toggle('hidden');
            menuOpenIcon.classList.toggle('hidden');
            menuCloseIcon.classList.toggle('hidden');
        }

        function handleOptionClick(e) {
            if (state.quiz.answered) return;
            state.quiz.answered = true;

            const selectedBtn = e.target.closest('.btn-option');
            if (!selectedBtn) return;

            const q = quizData[state.quiz.currentQuestionIndex];
            const selectedIndex = parseInt(selectedBtn.dataset.optionIndex);

            const allOptions = document.querySelectorAll('.btn-option');
            
            allOptions.forEach((btn, index) => {
                btn.disabled = true;
                btn.classList.remove('hover:border-indigo-400', 'hover:bg-indigo-50');
                if (index === q.correct) {
                    btn.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                    btn.innerHTML += `<span class="float-right"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg></span>`;
                }
            });

            if (selectedIndex === q.correct) {
                state.quiz.score++;
            } else {
                selectedBtn.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                selectedBtn.innerHTML += `<span class="float-right"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></span>`;
            }
            
            const nextBtn = document.getElementById('next-question-btn');
            nextBtn.classList.remove('opacity-0', '-translate-y-2', 'pointer-events-none');
        }

        function addQuizEventListeners() {
            const options = document.getElementById('options-container');
            if(options) options.addEventListener('click', handleOptionClick);
            
            const nextBtn = document.getElementById('next-question-btn');
            if(nextBtn) nextBtn.addEventListener('click', () => {
                state.quiz.currentQuestionIndex++;
                state.quiz.answered = false;
                renderQuiz();
            });

            const restartBtn = document.getElementById('restart-quiz-btn');
            if(restartBtn) restartBtn.addEventListener('click', () => {
                state.quiz = { currentQuestionIndex: 0, score: 0, answered: false };
                renderQuiz();
            });
        }
        
        function init() {
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes fade-in {
                    from { opacity: 0; transform: translateY(10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in {
                    animation: fade-in 0.5s ease-out forwards;
                }
            `;
            document.head.appendChild(style);

            navMenu.addEventListener('click', handleNavClick);
            hamburgerBtn.addEventListener('click', toggleMobileMenu);

            renderNav();
            renderContent();
        }
        
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>